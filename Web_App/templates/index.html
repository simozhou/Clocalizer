<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
          integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>Cell Maps</title>
</head>
<body>

<div class="container" style="align-items: center; justify-content: flex-end; width: 70%">
    <h1 style="padding: 20px">Cell Maps</h1>
    <h3 style="padding: 20px">Your proteins won't be lost anymore<br></h3>
    <hr>
    <div class="row">
        <div class="col-lg-3">
            <img src="../static/logo_cwell_maps.png" class='img-responsive' style="width: 100%">
        </div>
        <div class="col-lg-5">
            <form action="{{url_for('predict')}}" method="post">
                <textarea class="form-control" aria-label="Input your sequence" placeholder="Input your sequence"
                          name="sequence"></textarea>

                <div class="row">

                    <div class="col-lg-2" style="padding-top: 20px">

                        <input class="btn btn-secondary" type="submit" value="Submit">
                    </div>
                </div>
            </form>
        </div>
        <div class="col-lg-4"><p>Your protein is in:<br>{{prediction}}</p></div>
    </div>


</div>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<script type="text/javascript">

    $("#submit").click(function () {
        var $SCRIPT_ROOT = {
        {
            request.script_root | tojson | safe
        }
    }
        ;
        var sequenceReq = document.getElementById("sequence");
        var sequence = sequenceReq.toDataURL();
        $.ajax({
            type: "POST",
            url: $SCRIPT_ROOT + "/predict/",
            data: sequence,
            success(data) {
                $('#result').text(' Predicted Output: ' + data);
            }
        });
    });

</script>

</body>
<!--<footer class="panel-footer">-->

<!--made with <3 by Simo, Jan, Ale and Anna-->
<!--</footer>-->
</html>